<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XQ Test Report</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; padding: 2rem; line-height: 1.5; color: #333; }
        h1 { margin-bottom: 1rem; }
        pre { background: #f5f5f5; padding: 1rem; border-radius: 4px; overflow-x: auto; font-family: monospace; white-space: pre-wrap; }
        .status { margin-bottom: 1rem; padding: 0.5rem 1rem; border-radius: 4px; display: inline-block; }
        .success { background: #e6fffa; color: #047481; }
        .error { background: #fff5f5; color: #c05621; }
    </style>
</head>
<body>
    <h1>Test Execution Report</h1>
    <div id="status-message"></div>
    
    <h2>Raw XML Output</h2>
    <div id="report-content">
        Waiting for data...
    </div>

    <!-- Data will be injected here by the generation script -->
    <script>
        // The generate-report.js script injects window.xqTestReportData here
        
        document.addEventListener('DOMContentLoaded', () => {
            const contentDiv = document.getElementById('report-content');
            const statusDiv = document.getElementById('status-message');
            
            if (window.xqTestReportData) {
                statusDiv.textContent = 'Report data loaded successfully';
                statusDiv.className = 'status success';
                
                // Simple display of the XML content for now
                // In a real reporter, we would parse this XML and show a nice UI
                contentDiv.innerHTML = `<pre>${escapeHtml(window.xqTestReportData)}</pre>`;
            } else {
                statusDiv.textContent = 'No report data found. This file should be generated by the report tool.';
                statusDiv.className = 'status error';
                contentDiv.textContent = '';
            }
        });

        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, function(m) { return map[m]; });
        }
    </script>
</body>
</html>
